---
title: Playwright
slug: /playwright
---

# Argos Playwright SDK

Improve test debugging and boost your visual testing capabilities by combining Argos with your [Playwright](https://playwright.dev/) tests.

## Features

### Test debugging

The Argos Playwright reporter automatically reports failure screenshots and playwright traces. You can access them directly in Argos UI. If you are tired to download traces from artifact and run a command to see them, it is the solution for you.

- **Failure Screenshots**: View failure screenshots from your CI tests directly in Argos. No extra steps, just immediate clarity where you need it most.

- **Playwright Traces**: “Time travel” through your failing tests with remote Playwright traces. Gain a complete, step-by-step visual journey to the heart of any test issue.

### Visual Testing

Argos presents a significant advantage over traditional Playwright visual tests with its streamlined approach to managing and reviewing test results:

- **Visual Testing on CI**: With Argos, there's no need to run tests locally or commit screenshots to your repository. This not only saves time but also keeps your repository clean and focused on code rather than binary assets.

- **Fluid UI for Comparison**: Argos intuitive interface makes it easy to spot discrepancies and understand visual changes without the need for cumbersome manual checks.

- **Enhanced Stabilization**: The Argos integration with Playwright takes visual testing to the next level by ensuring stability and consistency in the screenshots captured. Fonts, images, animations, loaders, everything is just stable.

## Get started

Please refer to our [Quickstart guide](/quickstart/playwright) to get started with Argos and Playwright.

## API Overview

### argosScreenshot(page, name[, options])

- `page`: Instance of the [Playwright Page](https://playwright.dev/docs/api/class-page).
- `name`: Unique name for the screenshot.
- `options`: Explore [Page.screenshot command options](https://playwright.dev/docs/api/class-page#page-screenshot) for details.
- `options.element`: Use an ElementHandle or string selector to capture a specific element's screenshot.
- `options.viewports`: Define specific viewports for capturing screenshots. More on [viewports configuration](/viewports).
- `options.argosCSS`: Specific CSS applied during the screenshot process. More on [injecting CSS](/injecting-css)

Unlike [Playwright's `screenshot` method](https://playwright.dev/docs/api/class-page#page-screenshot), set `fullPage` option to `true` by default. Feel free to override this option if you prefer partial screenshots of your pages.

### Argos Reporter

The Argos reporter offers extensive configuration options. Specifically, all [upload parameters](https://js-sdk-reference.argos-ci.com/interfaces/uploadparameters) are available for customizing the reporter.

```ts
// playwright.config.ts
import { defineConfig } from "@playwright/test";
import type { ArgosReporterOptions } from "@argos-ci/playwright/reporter";

export default defineConfig({
  // ... other configurations

  reporter: [
    // ... other reporters
    [
      "@argos-ci/playwright/reporter",
      {
        uploadToArgos: !!process.env.CI,
        buildName: "custom-build-name",
      } as ArgosReporterOptions,
    ],
  ],
});
```

## Tests Sharding

Argos seamlessly integrates with [Playwright test sharding](https://playwright.dev/docs/test-sharding), enabling efficient test distribution without the need for manual configuration. [Argos Sharding/Parallel mode](/parallel-testing) is automatically configured for you.

## Helper Attributes for Visual Testing

For tailored visual testing, the `data-visual-test` attributes provide control over how elements appear in Argos screenshots. This can be especially useful for obscuring or modifying elements with dynamic content, like dates.

- `[data-visual-test="transparent"]`: Renders the element transparent (`visiblity: hidden`).
- `[data-visual-test="removed"]`: Removes the element from view (`display: none`).
- `[data-visual-test="blackout"]`: Masks the element with a blackout effect.
- `[data-visual-test-no-radius]`: Strips the border radius from the element.

**Example: Using a helper attribute to hide a div from the captured screenshot:**

```html
<div id="clock" data-visual-test="transparent">...</div>
```

## Upgrading from v0.0.x

### Step 1: Setup Argos in your Playwright config

```typescript
import { defineConfig } from "@playwright/test";

export default defineConfig({
  // ... other configuration

  // Add Argos reporter.
  reporter: [
    ["list"],
    [
      "@argos-ci/playwright/reporter",
      {
        // Upload artefacts to Argos on CI.
        uploadToArgos: !!process.env.CI,
      },
    ],
  ],

  // Setup recording option to enable test debugging features
  use: {
    // Setting to capture screenshot only when a test fails
    screenshot: "only-on-failure",
    // Setting to retain traces only when a test fails
    trace: "retain-on-failure",
  },
});
```

### Step 2: Phase Out CLI Usage:

- Remove `argos upload` calls from your CI. (Note: Screenshots now upload through the reporter.)
- Delete `@argos-ci/cli` from `package.json`.

## Additional Resources

- [Quickstart with Argos + Playwright](/quickstart/playwright)
- [Argos + Playwright example](https://github.com/argos-ci/argos/tree/main/examples/playwright)
- [@argos-ci/playwright on GitHub](https://github.com/argos-ci/argos-javascript/tree/main/packages/playwright)
- [@argos-ci/playwright on npm](https://www.npmjs.com/package/@argos-ci/playwright)
